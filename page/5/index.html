<!DOCTYPE html>
<html>
  <head>
      <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="Java | ä¸ªäººåšå®¢ | Gridea | NexT | next">
<meta name="description" content="Gridea Next | æ‡‚ç‚¹å‰ç«¯çš„åç«¯ | ä¸­é—´ä»¶ | Java">
<meta name="theme-color" content="#000">
<title>Madara</title>
<link rel="shortcut icon" href="https://hsxyhao.github.io//favicon.ico?v=1581042960843">
<link rel="stylesheet" href="https://hsxyhao.github.io//styles/main.css">

<link rel="stylesheet" href="/media/css/gemini.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/default.css" rel="stylesheet">  

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

  </head>
  <body>
    <div class="head-top-line"></div>
    <div class="header-box">
      
<div class=" gemini">
  <header class="header bg-color ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>Madara</span>
            </a>  
          
        </div>
        
          <p class="subtitle">ç²¾äºå¿ƒï¼Œç®€äºå½¢</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            <li class="nav-item nav-item-active">
              
                <a href="/">
                  <i class="fa fa-home"></i> é¦–é¡µ
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/archives">
                  <i class="fa fa-archive"></i> å½’æ¡£
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/tags">
                  <i class="fa fa-tags"></i> æ ‡ç­¾
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/post/about">
                  <i class="fa fa-user"></i> å…³äº
                </a>
              
            </li>
          
          <li class="nav-item">
            <a>
              <i class="fa fa-search"></i> æœç´¢
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
    </div>
    <div class="main-continer">
      
      <div class="section-layout gemini ">
        <div class="section-layout-wrapper">
          <div class="sidebar">
    
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="https://hsxyhao.github.io//images/avatar.png"/>
    <p class="site-author-name">Madara</p>
    <p class="site-description right-motion">è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½ä¸æƒ³å†™...</p>
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">16</span>
        <span class="site-item-stat-name">æ–‡ç« </span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">6</span>
        <span class="site-item-stat-name">åˆ†ç±»</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">6</span>
        <span class="site-item-stat-name">æ ‡ç­¾</span>
      </a>
    </div>
  </div>
  
    
      <div class="sidebar-item" style="border-top: 1px dotted #ccc; margin-top: 10px;">
      </div>
    
  
  
    <div class="sidebar-item sidebar-item-social">
      <div class="social-item">
        
          
            <a href="https://github.com/hsxyhao">
              <i class="fa fa-github-alt"></i> Github
            </a>
          
        
        
          
            <a class="social-img" href="#">
              <img src="/media/images/custom-array-imgSocials-1580730968548-socialImg.jpeg" />
              <i class="fa fa-wechat"></i> å¾®ä¿¡
            </a>
          
        
      </div>
    </div>
  


  <div class="sidebar-item right-motion sidebar-item-friends">
    <p class="friends-title"><i class="fa fa-globe"></i> å‹æƒ…é“¾æ¥</p>
    <div class="friends-box">
      
        <p>
          <a href="https://hsxyhao.github.io/">ã€hsxyhaoã€‘</a>
        </p>
      
    </div>
  </div>

</div>
</div>
          <div class="section-box gemini">
            <section class="section  posts-expand slide-down-in">
              
  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://hsxyhao.github.io/post/redis-copy">
      Rediså¤åˆ¶
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2019-11-19</span>
    </span>
    
      <span class="meta-item">
        <span class="post-meta-divider pc-show">|</span>
        <i class="fa fa-folder-o"></i>
        <span class="pc-show">åˆ†ç±»äº</span>
        
          
            <a href="https://hsxyhao.github.io/tag/redis">
              <span>Redis</span>
            </a>
          
        
      </span>
      <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>15åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>4316<span class="pc-show">å­—æ•°</span></span>
    </span>
  </div>
</header>
      <div class="post-body">
        
          <p>ä»€ä¹ˆæ˜¯redisçš„å¤åˆ¶ï¼Œä¸ºä»€ä¹ˆè¦æœ‰å¤åˆ¶åŠŸèƒ½ï¼Œå…¨é‡å¤åˆ¶æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œéƒ¨åˆ†å¤åˆ¶åˆè§£å†³äº†å“ªäº›é—®é¢˜ã€‚</p>
<p>å¤åˆ¶å°±æ˜¯å°†redisèŠ‚ç‚¹ä¸­çš„æ•°æ®å¤åˆ¶å®ŒåŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ä¸­ï¼Œåœ¨redisä¸­å‚ä¸å¤åˆ¶ä¸€èˆ¬æœ‰ä¸»èŠ‚ç‚¹(master)ä»¥åŠä»èŠ‚ç‚¹(slave)ï¼Œå°†æ•°æ®ä»ä¸»èŠ‚ç‚¹å¤åˆ¶åˆ°ä»èŠ‚ç‚¹ï¼Œå¹¶ä¸”å¤åˆ¶çš„æ–¹å¼æ˜¯å•å‘çš„ï¼Œä¸èƒ½é€†å‘å¤åˆ¶ï¼Œåœ¨å»ºç«‹å¤åˆ¶å…³ç³»ä¹‹åä¸»èŠ‚ç‚¹çš„æ•°æ®ä¼šåŒæ­¥åˆ°ä»èŠ‚ç‚¹ç›´åˆ°è§£é™¤ä¸»ä»å…³ç³»ã€‚ä¸è®ºæ˜¯å“¨å…µæ¨¡å¼è¿˜æ˜¯redisé›†ç¾¤éƒ½æ˜¯åœ¨å¤åˆ¶çš„åŸºç¡€ä¸Šå®Œæˆçš„ã€‚</p>
<p><strong>è®°å¿†ç‚¹</strong></p>
<ol>
<li>ä½¿ç”¨æ–¹å¼ï¼šå»ºç«‹ã€æ–­å¼€å¤åˆ¶ã€å®‰å…¨æ€§ã€åªè¯»æ€§</li>
<li>é€‚ç”¨åœºæ™¯ï¼šå“¨å…µã€é›†ç¾¤</li>
<li>å¤åˆ¶åŸç†ï¼šå»ºç«‹å¤åˆ¶ã€å…¨é‡å¤åˆ¶ã€éƒ¨åˆ†å¤åˆ¶ã€å¿ƒè·³</li>
<li>å¸¸è§é—®é¢˜ï¼šè¯»å†™åˆ†ç¦»ã€æ•°æ®ä¸ä¸€è‡´ã€é¿å…å…¨é‡å¤åˆ¶</li>
</ol>

        
        
        <div class="post-button text-center">
          <a class="btn" href="https://hsxyhao.github.io/post/redis-copy" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://hsxyhao.github.io/post/redis-chi-jiu-hua">
      Redis æŒä¹…åŒ–
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2019-11-16</span>
    </span>
    
      <span class="meta-item">
        <span class="post-meta-divider pc-show">|</span>
        <i class="fa fa-folder-o"></i>
        <span class="pc-show">åˆ†ç±»äº</span>
        
          
            <a href="https://hsxyhao.github.io/tag/redis">
              <span>Redis</span>
            </a>
          
        
      </span>
      <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>9åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>2304<span class="pc-show">å­—æ•°</span></span>
    </span>
  </div>
</header>
      <div class="post-body">
        
          <p>æŒä¹…åŒ–æœ‰å“ªå‡ ç§æ–¹å¼ï¼Œå„æœ‰ä»€ä¹ˆé—®é¢˜ã€‚æ¯ç§æŒä¹…åŒ–çš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼ŒAOFé‡å†™æ˜¯ä»€ä¹ˆæœºåˆ¶ï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œforkåº•å±‚å‡½æ•°ï¼ŒCOWæœºåˆ¶ã€‚</p>
<h1 id="é¢è¯•">é¢è¯•</h1>
<p>åœ¨é¢è¯•çš„æ—¶å€™å¦‚æœè¢«é—®åˆ°RedisæŒä¹…åŒ–çš„æ—¶å€™ï¼Œæ€ä¹ˆå›ç­”æ¯”è¾ƒå¥½ï¼Ÿæˆ‘æƒ³ä»ä»¥ä¸‹å‡ ä¸ªè§’åº¦å±•å¼€ï¼Œä¸€å®šä¼šè®©é¢è¯•å®˜çœ¼å‰ä¸€äº®ã€‚</p>
<ul>
<li>RDBå†·å¤‡ä»½ä»¥åŠAOFçƒ­å¤‡ä»½</li>
<li>forkå‡½æ•°</li>
<li>COWï¼ˆCopy on writeï¼‰å†™æ—¶å¤åˆ¶æœºåˆ¶</li>
<li>AOFå‘½ä»¤é‡å†™</li>
</ul>

        
        
        <div class="post-button text-center">
          <a class="btn" href="https://hsxyhao.github.io/post/redis-chi-jiu-hua" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://hsxyhao.github.io/post/rui-shi-jun-dao-redis">
      Rediså…¥é—¨çŸ¥è¯†ç‚¹
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2019-11-14</span>
    </span>
    
      <span class="meta-item">
        <span class="post-meta-divider pc-show">|</span>
        <i class="fa fa-folder-o"></i>
        <span class="pc-show">åˆ†ç±»äº</span>
        
          
            <a href="https://hsxyhao.github.io/tag/redis">
              <span>Redis</span>
            </a>
          
        
      </span>
      <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>10åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>2278<span class="pc-show">å­—æ•°</span></span>
    </span>
  </div>
</header>
      <div class="post-body">
        
          <p>redisæœ‰å“ªäº›åŸºç¡€æ•°æ®ç»“æ„ï¼Œä»€ä¹ˆæ˜¯å¿«é€Ÿé“¾è¡¨ï¼Œä»€ä¹ˆæ˜¯è·³è·ƒé“¾è¡¨ï¼Œä½¿ç”¨redisç‰¹æœ‰çš„æ•°æ®ç±»å‹å¯ä»¥å®ç°å“ªäº›æœ‰è¶£çš„åŠŸèƒ½ã€‚</p>
<blockquote>
<p>Redis is an open source (BSD licensed), in-memory data structure store, used as a database, cache and message broker. It supports data structures such as strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglogs, geospatial indexes with radius queries and streams. Redis has built-in replication, Lua scripting, LRU eviction, transactions and different levels of on-disk persistence, and provides high availability via Redis Sentinel and automatic partitioning with Redis Cluster.<br>
<img src="https://hsxyhao.github.io/post-images/1577761648931.png" alt="" loading="lazy"></p>
</blockquote>
<p>ä¸Šé¢ä¸€æ®µè¯å–è‡ªRediså®˜æ–¹çš„ä»‹ç»ï¼Œä¸ºä»€ä¹ˆè¦æŠŠå®ƒæ”¾åœ¨è¿™é‡Œï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä»‹ç»Redisæœ€ä¸ºæ ‡å‡†çš„ä¸€æ®µè¯ï¼Œä»ç”¨é€”ã€æ•°æ®ç»“æ„å·²ç»åŠŸèƒ½ç­‰å¤šæ–¹é¢ä»‹ç»ï¼Œå¦‚æœä»¥åé¢è¯•å®˜å«ä½ ä»‹ç»ä¸‹redisçš„è¯ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç›´æ¥æŠŠè¿™æ®µè¯èƒŒä¸‹æ¥ğŸ˜Œã€‚è‡³äºä¸ºä»€ä¹ˆæŠŠRedisç§°ä¸ºç‘å£«å†›åˆ€ï¼Œç›¸ä¿¡ç”¨è¿‡redisçš„äººéƒ½ä¼šè¿™ä¹ˆè®¤ä¸ºã€‚</p>

        
        
        <div class="post-button text-center">
          <a class="btn" href="https://hsxyhao.github.io/post/rui-shi-jun-dao-redis" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>
  
              
              
<div class="page bg-color">
  <ul class="pagination-ul">
    
      <li class="pagination-dir">
        <a href="https://hsxyhao.github.io/page/4/">
          <i class="fa fa-angle-left"></i>
        </a>
      </li>
    
    
      <!-- 1 2 3 4 ... N -->
      
        <!-- 1 ... N-2 N-1 N-->
        <li class="pagination-li">
          <a href="/">1</a>
        </li>
        <li class="pagination-li">
          â€¦
        </li>
        
          <li class="pagination-li ">
            <a href="/page/4">
              4
            </a>
          </li>
        
          <li class="pagination-li pagination-active">
            <a href="#">
              5
            </a>
          </li>
        
          <li class="pagination-li ">
            <a href="/page/6">
              6
            </a>
          </li>
        
      
    
    
      <li class="pagination-dir">
        <a href="/page/6">
          <i class="fa fa-angle-right"></i>
        </a>
      </li>
    
  </ul>
</div>
            </section>
          </div>
        </div>
      </div>
      <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Â© 2019-2020 <i class="fa fa-heart"></i> HsxyHao
    </div>
    <div class="poweredby">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
  <div class="gemini back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // åŠ¨æ€è°ƒæ•´ç«™ç‚¹æ¦‚è§ˆé«˜åº¦
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // ä»£ç é«˜äº®
  hljs.initHighlightingOnLoad();
</script>
    </div>
  </body>
  <script src="/media/js/motion.js"></script>
</html>