<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="Java | ä¸ªäººåšå®¢ | Gridea | NexT | next">
<meta name="description" content="Gridea Next | æ‡‚ç‚¹å‰ç«¯çš„åç«¯ | ä¸­é—´ä»¶ | Java">
<meta name="theme-color" content="#000">
<title>Rediså…¥é—¨çŸ¥è¯†ç‚¹ | Madara</title>
<link rel="shortcut icon" href="https://hsxyhao.github.io//favicon.ico?v=1581042960843">
<link rel="stylesheet" href="https://hsxyhao.github.io//styles/main.css">

<link rel="stylesheet" href="/media/css/gemini.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/default.css" rel="stylesheet">  

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

    <meta name="description" content="Rediså…¥é—¨çŸ¥è¯†ç‚¹" />
    <meta name="keywords" content="Redis" />
  </head>
  <body>
    <div class="head-top-line"></div>
    <div class="header-box">
      
<div class=" gemini">
  <header class="header bg-color ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>Madara</span>
            </a>  
          
        </div>
        
          <p class="subtitle">ç²¾äºå¿ƒï¼Œç®€äºå½¢</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            <li class="nav-item ">
              
                <a href="/">
                  <i class="fa fa-home"></i> é¦–é¡µ
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/archives">
                  <i class="fa fa-archive"></i> å½’æ¡£
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/tags">
                  <i class="fa fa-tags"></i> æ ‡ç­¾
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/post/about">
                  <i class="fa fa-user"></i> å…³äº
                </a>
              
            </li>
          
          <li class="nav-item">
            <a>
              <i class="fa fa-search"></i> æœç´¢
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
    </div>
    <div class="main-continer">
      
      <div class="section-layout gemini ">
        <div class="section-layout-wrapper">
          

<div class="sidebar">
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active">æ–‡ç« ç›®å½•</span>
            <span id="metaSideBar" class="sidebar-title-item">ç«™ç‚¹æ¦‚è§ˆ</span>
          </div>
        </div>
      
      <div class="sidebar-body gemini" id="sidebar_body">
        
          <div class="post-side-meta" id="post_side_meta">
            
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="https://hsxyhao.github.io//images/avatar.png"/>
    <p class="site-author-name">Madara</p>
    <p class="site-description right-motion">è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½ä¸æƒ³å†™...</p>
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">16</span>
        <span class="site-item-stat-name">æ–‡ç« </span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">6</span>
        <span class="site-item-stat-name">åˆ†ç±»</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">6</span>
        <span class="site-item-stat-name">æ ‡ç­¾</span>
      </a>
    </div>
  </div>
  
    
      <div class="sidebar-item" style="border-top: 1px dotted #ccc; margin-top: 10px;">
      </div>
    
  
  
    <div class="sidebar-item sidebar-item-social">
      <div class="social-item">
        
          
            <a href="https://github.com/hsxyhao">
              <i class="fa fa-github-alt"></i> Github
            </a>
          
        
        
          
            <a class="social-img" href="#">
              <img src="/media/images/custom-array-imgSocials-1580730968548-socialImg.jpeg" />
              <i class="fa fa-wechat"></i> å¾®ä¿¡
            </a>
          
        
      </div>
    </div>
  


  <div class="sidebar-item right-motion sidebar-item-friends">
    <p class="friends-title"><i class="fa fa-globe"></i> å‹æƒ…é“¾æ¥</p>
    <div class="friends-box">
      
        <p>
          <a href="https://hsxyhao.github.io/">ã€hsxyhaoã€‘</a>
        </p>
      
    </div>
  </div>

</div>
          </div>
          <div class="post-toc sidebar-body-active" id="post_toc" style="opacity: 1;">
            <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number auto" id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li><a href="#redis-key">Redis key</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">æ•°æ®ç±»å‹</a>
<ul>
<li><a href="#string%E7%B1%BB%E5%9E%8B">stringç±»å‹</a></li>
<li><a href="#list%E7%B1%BB%E5%9E%8B">listç±»å‹</a>
<ul>
<li><a href="#%E5%BF%AB%E9%80%9F%E9%93%BE%E8%A1%A8">å¿«é€Ÿé“¾è¡¨</a></li>
<li><a href="#list%E6%89%A9%E5%B1%95%E5%BA%94%E7%94%A8">listæ‰©å±•åº”ç”¨</a></li>
</ul>
</li>
<li><a href="#hash%E7%B1%BB%E5%9E%8B">hashç±»å‹</a>
<ul>
<li><a href="#rehash">rehash</a></li>
<li><a href="#%E4%B8%8Estring%E5%BA%94%E7%94%A8%E6%AF%94%E8%BE%83">ä¸stringåº”ç”¨æ¯”è¾ƒ</a></li>
</ul>
</li>
<li><a href="#set%E7%B1%BB%E5%9E%8B">setç±»å‹</a></li>
<li><a href="#zset%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88">zset(æœ‰åºé›†åˆ)</a></li>
</ul>
</li>
<li><a href="#%E6%9C%80%E5%90%8E">æœ€å</a></li>
<li><a href="#%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3">ç›¸å…³æ–‡æ¡£</a></li>
</ul>

  </div>
</div>

<script>

let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1; 
let active = 'active-show', activeClass = 'active-current';
let tocWrapper = document.querySelector('#toc_wrapper');
let tocContent = tocWrapper.children[0];
let autoNumber = tocWrapper&&tocWrapper.classList.contains('auto-number');

function addTocNumber(elem, deep) {
  if (!elem) {
    return;
  }
  let prop = elem.__proto__;

  if (prop === HTMLUListElement.prototype) {
    for (let i = 0; i < elem.children.length; i++) {
      addTocNumber(elem.children[i], deep + (i + 1) + '.');
    }
  } else if (prop === HTMLLIElement.prototype) {
    // ä¿å­˜liå…ƒç´ 
    lList.push(elem);
    for (let i = 0; i < elem.children.length; i++) {
      let cur = elem.children[i];
      if (cur.__proto__ === HTMLAnchorElement.prototype) {
        if (autoNumber) {
          cur.text =  deep + ' ' + cur.text;
        }
      } else if (cur.__proto__ === HTMLUListElement.prototype) {
        addTocNumber(cur, deep);
      }
    }
  }
}


document.addEventListener('scroll', function(e) {
  if (lList.length <= 0) {
    return;
  }
  let scrollTop = document.scrollingElement.scrollTop;
  let dir;

  if (lastTop - scrollTop > 0) {
    dir = 'up';
  } else {
    dir = 'down';
  }

  lastTop = scrollTop;
  if (scrollTop <= 0) {
    if (lastIndex >= 0 && lastIndex < hList.length) {
      lList[lastIndex].classList.remove(activeClass);
    }
    return;
  }

  let current = 0, hasFind = false;
  for (let i = 0; i < hList.length; i++) {
    if (hList[i].offsetTop > scrollTop) {
      current = i;
      hasFind = true;
      break;
    }
  }
  if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
    current = hList.length - 1;
  } else {
    current--;
  }
  if (dir === 'down') {
    if (current > lastIndex) {
      addActiveClass(current);
      removeActiveClass(lastIndex) 
      lastIndex = current;
      removeParentActiveClass();
      lList[current] && addActiveLiElemment(lList[current].parentElement,tocContent);
    }
  } else {
    if (current < lastIndex) {
      addActiveClass(current);
      removeActiveClass(lastIndex);
      lastIndex = current;
      removeParentActiveClass();
      lList[current] && addActiveLiElemment(lList[current].parentElement,tocContent);
    }
  }
});

function removeParentActiveClass() {
  let parents = tocContent.querySelectorAll('.'+active)
  parents.forEach(function(elem) {
    elem.classList.remove(active);
  });
}

function addActiveClass(index) {
  if (index >= 0 && index < hList.length) {
    lList[index].classList.add(activeClass);
  }
}

function removeActiveClass(index) {
  if (index >= 0 && index < hList.length) {
    lList[index].classList.remove(activeClass);
  }
}

function addActiveLiElemment(elem, parent) {
  if (!elem || elem === parent) {
    return;
  } else {
    if (elem.__proto__ === HTMLLIElement.prototype) {
      elem.classList.add(active);
    }
    addActiveLiElemment(elem.parentElement, parent);
  }
}

function showToc() {
  if (tocWrapper) {
    postBody = document.querySelector('#post_body');
    for (let i = 0; i < postBody.children.length; i++) {
      if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
        hList.push(postBody.children[i]);
      }
    }
    if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
    } else if (tocWrapper.classList.contains('no_compress')){
      tocContent.classList.add('expanded');
    } else {
      if (hList.length > 10) {
        active = 'active-hidden'
        tocContent.classList.add('closed');
      } else {
        tocContent.classList.add('expanded');
      }
    }
  }
}
addTocNumber(tocContent, '');

window.addEventListener('load', function() {
  showToc();
  document.querySelector('#sidebar').style='display: block;';
  tocWrapper.classList.add('toc-active');
  setTimeout(function() {
    if ("createEvent" in document) {
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("scroll", false, true);
      document.dispatchEvent(evt);
    }
    else {
      document.fireEvent("scroll");
    }
  }, 500)
})

</script>
          </div>
        
      </div>
    </div>
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });


  if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
    let hasFix = false;
    let scrollEl = document.querySelector('.main-continer');
    let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
    window.addEventListener('scroll', function(e) {
    if (document.scrollingElement.scrollTop >= limitTop) {
      if (!hasFix) {
        sidebar.classList.add('sidebar-fixed');
        hasFix = true;
      }
    } else {
      if (hasFix) {
        sidebar.classList.remove('sidebar-fixed');
        hasFix = false;
      }
    }
  });
  }
  
</script>
          <div class="section-box box-shadow-wrapper">
            <div class="section bg-color post post-page">
              <div class="article-box">
    <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://hsxyhao.github.io/post/rui-shi-jun-dao-redis">
      Rediså…¥é—¨çŸ¥è¯†ç‚¹
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2019-11-14</span>
    </span>
    
      <span class="meta-item">
        <span class="post-meta-divider pc-show">|</span>
        <i class="fa fa-folder-o"></i>
        <span class="pc-show">åˆ†ç±»äº</span>
        
          
            <a href="https://hsxyhao.github.io/tag/redis">
              <span>Redis</span>
            </a>
          
        
      </span>
      <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>10åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>2278<span class="pc-show">å­—æ•°</span></span>
    </span>
  </div>
</header>
</div>
              <div class="post-body next-md-body" id="post_body">
                <p>redisæœ‰å“ªäº›åŸºç¡€æ•°æ®ç»“æ„ï¼Œä»€ä¹ˆæ˜¯å¿«é€Ÿé“¾è¡¨ï¼Œä»€ä¹ˆæ˜¯è·³è·ƒé“¾è¡¨ï¼Œä½¿ç”¨redisç‰¹æœ‰çš„æ•°æ®ç±»å‹å¯ä»¥å®ç°å“ªäº›æœ‰è¶£çš„åŠŸèƒ½ã€‚</p>
<blockquote>
<p>Redis is an open source (BSD licensed), in-memory data structure store, used as a database, cache and message broker. It supports data structures such as strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglogs, geospatial indexes with radius queries and streams. Redis has built-in replication, Lua scripting, LRU eviction, transactions and different levels of on-disk persistence, and provides high availability via Redis Sentinel and automatic partitioning with Redis Cluster.<br>
<img src="https://hsxyhao.github.io//post-images/1577761648931.png" alt="" loading="lazy"></p>
</blockquote>
<p>ä¸Šé¢ä¸€æ®µè¯å–è‡ªRediså®˜æ–¹çš„ä»‹ç»ï¼Œä¸ºä»€ä¹ˆè¦æŠŠå®ƒæ”¾åœ¨è¿™é‡Œï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä»‹ç»Redisæœ€ä¸ºæ ‡å‡†çš„ä¸€æ®µè¯ï¼Œä»ç”¨é€”ã€æ•°æ®ç»“æ„å·²ç»åŠŸèƒ½ç­‰å¤šæ–¹é¢ä»‹ç»ï¼Œå¦‚æœä»¥åé¢è¯•å®˜å«ä½ ä»‹ç»ä¸‹redisçš„è¯ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç›´æ¥æŠŠè¿™æ®µè¯èƒŒä¸‹æ¥ğŸ˜Œã€‚è‡³äºä¸ºä»€ä¹ˆæŠŠRedisç§°ä¸ºç‘å£«å†›åˆ€ï¼Œç›¸ä¿¡ç”¨è¿‡redisçš„äººéƒ½ä¼šè¿™ä¹ˆè®¤ä¸ºã€‚</p>
<!-- more -->
<h1 id="redis-key">Redis key</h1>
<p>Rediså¯†é’¥æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ï¼Œä»»ä½•äºŒè¿›åˆ¶åºåˆ—çš„å­—ç¬¦ä¸²éƒ½å¯ä»¥ä½œä¸ºå¯†é’¥ï¼Œç©ºå­—ç¬¦ä¸²ä¹Ÿæ˜¯æœ‰æ•ˆçš„é”®ã€‚è™½ç„¶keyçš„æœ‰æ•ˆé•¿åº¦ä¸º512Mï¼Œä½†æ˜¯åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¸å»ºè®®æŠŠkeyçš„é•¿åº¦è®¾ç½®å¤ªé•¿ï¼Œæˆ–è€…è¿‡çŸ­ï¼Œæœ€å‹å¥½çš„ä¸€ç§åšæ³•æ˜¯å°†keyå’Œä¸šåŠ¡ç»“åˆèµ·æ¥å‘½åï¼Œä¸€èˆ¬æ¨èä½¿ç”¨user:{id}è¿™æ ·çš„æ–¹å¼ã€‚</p>
<h1 id="æ•°æ®ç±»å‹"><a href="https://redis.io/topics/data-types-intro">æ•°æ®ç±»å‹</a></h1>
<p>ä»redisçš„å®˜æ–¹ä»‹ç»ä¸­å°±å¯ä»¥å¾—å‡ºï¼Œredisçš„åŸºç¡€æ•°æ®ç±»å‹æœ‰äº”ç§ï¼Œåˆ†åˆ«ä¸ºï¼šstringï¼Œhashï¼Œlistï¼Œsetï¼Œä»¥åŠzsetã€‚è‡³äºåé¢æåˆ°çš„hyperloglogsã€geospatialã€bitmapsçš„ç±»å‹ï¼Œæœ‰çš„æ˜¯åé¢çš„ç‰ˆæœ¬å¢åŠ çš„ï¼Œæœ‰çš„æ˜¯åŸºç¡€æ•°æ®ç±»å‹æ‰©å±•æ¥çš„ã€‚ç›¸å¯¹äºå…¶ä»–çš„nosqlæ•°æ®åº“æ¥è¯´ï¼Œredisçš„æ•°æ®ç±»å‹å·²ç»å¾ˆå……åˆ†äº†ã€‚rediså†…ç½®çš„è¿™äº›ç±»å‹ï¼Œå¯¹äºå­¦è¿‡javaçš„åŒå­¦å¯ä»¥ä½¿ç”¨javaä¸­çš„HashMapæ¥è¾…åŠ©è®°å¿†ï¼Œæ¯”å¦‚è¯´stringç±»å‹å°±æ˜¯Map&lt;String,String&gt;,listç±»å‹å°±ç±»æ¯”ä¸ºMap&lt;String,List<String>&gt;ï¼Œhashåˆ™ä¸ºMap&lt;String,Map&lt;String,String&gt;&gt;ã€‚é€šè¿‡è¿™æ ·çš„è¾…åŠ©è®°å¿†ï¼Œå°±å¯ä»¥å¾ˆå¿«çš„è®°ä½redisçš„æ•°æ®ç±»å‹ï¼Œå¯¹äºåæœŸå„ç§ç±»å‹çš„å‘½ä»¤ä½¿ç”¨ä¹Ÿèµ·åˆ°ä¸€å®šçš„å¸®åŠ©ã€‚ä»ä¸Šé¢çš„ç±»æ¯”ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°redisæ˜¯ä¸€ä¸ªkeyï¼Œvalueçš„æ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œkeyéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œvalueåˆ™å¯¹åº”redisç€ä»¥ä¸Šå‡ ç§æ•°æ®ç±»å‹ã€‚</p>
<h2 id="stringç±»å‹">stringç±»å‹</h2>
<p>stringç±»å‹ï¼Œå¯ä»¥è¯´æ˜¯redisä¸­ä½¿ç”¨åˆ°æœ€å¤šçš„ä¸€ç§ç±»å‹äº†ï¼Œå¼€å‘ä¸­æœ‰å¾ˆå¤šå¼€å‘äººå‘˜æŠŠä¸€äº›çƒ­ç‚¹æ•°æ®çš„åºåˆ—åŒ–æˆjsonï¼Œå­˜å‚¨åˆ°redisä¸­ï¼Œæœ€åè®¿é—®çš„æ—¶å€™åå†å–å‡ºæ¥ååºåˆ—åŒ–è¿”å›åˆ°å®¢æˆ·ç«¯ã€‚<br>
<img src="https://hsxyhao.github.io//post-images/1573721308127.png" alt="" loading="lazy"><br>
é‡ç‚¹è®°å¿†ï¼š</p>
<ul>
<li>æœ€å¤§èƒ½å­˜å‚¨512Mçš„å†…å®¹</li>
<li>valueçš„å€¼æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œå†…éƒ¨é‡‡å–çš„æ˜¯ä¸€ç§é¢„æ‰©å®¹æœºåˆ¶æ¥å‡å°‘é¢‘ç¹çš„æ‰©å®¹ï¼Œå¦‚å›¾ä¸­æ‰€ç¤ºï¼Œå†…éƒ¨ä¸ºå½“å‰å­—ç¬¦ä¸²å®é™…åˆ†é…çš„ç©ºé—´ capacity ä¸€èˆ¬è¦é«˜äºå®é™…å­—ç¬¦ä¸²é•¿åº¦ lenã€‚å½“å­—ç¬¦ä¸²é•¿åº¦å°äº 1M æ—¶ï¼Œæ‰©å®¹éƒ½æ˜¯åŠ å€ç°æœ‰çš„ç©ºé—´ï¼Œå¦‚æœè¶…è¿‡ 1Mï¼Œæ‰©å®¹æ—¶ä¸€æ¬¡åªä¼šå¤šæ‰© 1M çš„ç©ºé—´ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦ä¸º 512Mã€‚</li>
</ul>
<p>å‘½ä»¤ï¼š</p>
<pre><code class="language-java">// æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹
&gt; set key1 value1
OK
// æ·»åŠ å¤šä¸ªé”®å€¼å¯¹ï¼Œæ”¹åç›¸å½“äºå¤šæ¬¡ä½¿ç”¨setåï¼Œmsetå¯ä»¥å‡å°‘ç½‘ç»œè¯·æ±‚
&gt; mset key1 value1 key2 value2 
OK
// å½“valueæ˜¯intç±»å‹çš„æ—¶å€™å¯ä»¥è¿›è¡ŒåŠ å‡æ“ä½œï¼Œè¶…è¿‡signed longï¼ˆLong.Maxï¼‰åˆ™ä¼šæŠ¥é”™
&gt; set counter 100
OK
&gt; incr counter
(integer) 101
&gt; incr counter
(integer) 102
&gt; incrby counter 50
(integer) 152
</code></pre>
<h2 id="listç±»å‹">listç±»å‹</h2>
<p>Redisä¸­çš„listç›¸å½“äºjavaä¸­çš„LinkedListï¼Œä¸æ˜¯ArrayListï¼Œä¹Ÿå°±æ˜¯è¯´ä»–æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚ç»“åˆ*popå’Œ*pushå‘½ä»¤å¯ä»¥å®ç°é˜Ÿåˆ—æˆ–è€…æ ˆè¿™ç§æ•°æ®ç»“æ„ã€‚<br>
<img src="https://hsxyhao.github.io//post-images/1573722527155.gif" alt="" loading="lazy"></p>
<h3 id="å¿«é€Ÿé“¾è¡¨">å¿«é€Ÿé“¾è¡¨</h3>
<p><img src="https://hsxyhao.github.io//post-images/1573801624670.png" alt="" loading="lazy"><br>
å‡†ç¡®çš„è¯´listç±»å‹çš„åº•å±‚å®ç°æ˜¯å¿«é€Ÿé“¾è¡¨ï¼Œæ™®é€šé“¾è¡¨åœ¨æ•°æ®é‡é‡å¤§çš„æƒ…å†µä¸‹æ€§èƒ½æ˜¯éå¸¸ä½çš„ï¼Œæ‰€ä»¥éœ€è¦å¯¹listè¿›è¡Œä¼˜åŒ–ã€‚åœ¨åˆ—è¡¨å¼€å§‹æ•°æ®é‡å°‘çš„æƒ…å†µä¸‹ï¼Œä¼šç›´æ¥ç”³è¯·ä¸€å—<strong>è¿ç»­</strong>çš„å†…å­˜å­˜å‚¨ï¼Œè¿™å—å†…å­˜çš„ç»“æ„å°±æ˜¯ziplist(å‹ç¼©åˆ—è¡¨)ï¼Œå½“æ•°æ®é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ä¼šåˆ‡æ¢æˆquicklistï¼Œå°±æ˜¯å¤šä¸ªziplistç»“åˆæˆçš„é“¾è¡¨ã€‚</p>
<h3 id="listæ‰©å±•åº”ç”¨">listæ‰©å±•åº”ç”¨</h3>
<ol>
<li>ç»“åˆrpushä»¥åŠlpopï¼ˆæˆ–è€…lpushå’Œrpopï¼‰å¯ä»¥å®ç°redisç‰ˆçš„é˜Ÿåˆ—ï¼Œå³è¿›å·¦å‡ºï¼ˆæˆ–å·¦è¿›å³å‡ºï¼‰ã€‚</li>
<li>ä½¿ç”¨rpushä»¥åŠrpopï¼ˆæˆ–è€…lpushå’Œlpopï¼‰å¯ä»¥å®ç°redisç‰ˆçš„æ ˆï¼Œå³è¿›å³å‡ºï¼ˆå·¦è¿›å·¦å‡ºï¼‰ã€‚</li>
</ol>
<p>å‘½ä»¤:</p>
<ul>
<li>ltrim [start_index, end_index]å‘½ä»¤ï¼Œä¼šä¿ç•™start_indexå’Œend_indexä¹‹é—´çš„éƒ¨åˆ†</li>
<li>lindexç›¸å½“äºé“¾è¡¨çš„getæ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n),indexè¶Šå¤§æ€§èƒ½è¶Šä½ã€‚</li>
</ul>
<pre><code class="language-java">&gt; rpush books python java golang
(integer) 3
&gt; lindex books 1  # O(n) æ…ç”¨
&quot;java&quot;
&gt; lrange books 0 -1  # è·å–æ‰€æœ‰å…ƒç´ ï¼ŒO(n) æ…ç”¨
1) &quot;python&quot;
2) &quot;java&quot;
3) &quot;golang&quot;
&gt; ltrim books 1 -1 # O(n) æ…ç”¨
OK
&gt; lrange books 0 -1
1) &quot;java&quot;
2) &quot;golang&quot;
&gt; ltrim books 1 0 # è¿™å…¶å®æ˜¯æ¸…ç©ºäº†æ•´ä¸ªåˆ—è¡¨ï¼Œå› ä¸ºåŒºé—´èŒƒå›´é•¿åº¦ä¸ºè´Ÿ
OK
&gt; llen books
(integer) 0
</code></pre>
<h2 id="hashç±»å‹">hashç±»å‹</h2>
<p>hashç±»å‹å¯ä»¥ç±»æ¯”æˆjavaä¸­HashMapï¼Œä¸€ç§é”®å€¼å¯¹ç±»å‹ï¼Œåªä¸è¿‡è¿™é‡Œçš„keyåªèƒ½æ˜¯stringç±»å‹ã€‚</p>
<h3 id="rehash">rehash</h3>
<p>ç›¸ä¿¡å¤§å¤šæ•°javaå¼€å‘äººå‘˜åœ¨é¢è¯•çš„æ—¶å€™éƒ½ä¼šè¢«é—®åˆ°rehashï¼Œè¿™ä¸ªè¿‡ç¨‹åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™æ˜¯ä¸€ä¸ªæ€§èƒ½ç›¸å½“ä½çš„æ“ä½œï¼Œè€Œredisä¸ºäº†æé«˜æ€§èƒ½ï¼Œå°±é‡‡å–äº†å¦ä¸€ç§æ–¹å¼è¿›è¡Œrehashâ€”â€”æ¸è¿‘å¼ï¼Œå°±æ˜¯åœ¨rehashçš„æ—¶å€™ä¸ç«‹é©¬è¿›è¡Œrehashï¼Œä¿å­˜ä¸€ä¸ªæ–°çš„hashç»“æ„çš„åŒæ—¶ï¼Œæ—§çš„ä¹Ÿä¿å­˜ä¸‹æ¥ï¼Œåœ¨åç»­çš„å®šæ—¶ä»»åŠ¡ä¸­ï¼Œæˆ–è€…æœ‰hashæ“ä½œçš„æ—¶å€™è¿›è¡Œè¿ç§»ï¼Œå½“æ•°æ®è¿ç§»å®Œæˆä¹‹åï¼Œæ—§çš„hashå°±ä¼šè¢«æ–°çš„å–ä»£ã€‚</p>
<h3 id="ä¸stringåº”ç”¨æ¯”è¾ƒ">ä¸stringåº”ç”¨æ¯”è¾ƒ</h3>
<p>hashä¹Ÿå¯ä»¥ç”¨æ¥ä¿å­˜ç”¨æˆ·ä¿¡æ¯çš„ç±»ä¼¼æ“ä½œï¼Œä½†æ˜¯ç›¸å¯¹äºstringæ¥è¯´ï¼Œhashå¯ä»¥ä¿å­˜ä¸€ä¸ªç”¨æˆ·çš„å•ä¸ªå±æ€§ï¼Œåœ¨æ•°æ®é‡ä»¥åŠè¯·æ±‚éå¸¸å¤§çš„æƒ…å†µä¸‹ï¼Œè·å–å•ä¸ªå±æ€§ç›¸æ¯”è¾ƒæˆ–è€…æ‰€æœ‰å±æ€§æ¥è¯´ï¼Œæ›´åŠ èŠ‚çº¦ç½‘ç»œæµé‡ï¼Œä½†æ˜¯hashçš„å­˜å‚¨ç»“æ„æ¶ˆè€—è¦é«˜äºstringã€‚</p>
<p>å‘½ä»¤</p>
<pre><code class="language-java">&gt; hset books java &quot;think in java&quot;  # å‘½ä»¤è¡Œçš„å­—ç¬¦ä¸²å¦‚æœåŒ…å«ç©ºæ ¼ï¼Œè¦ç”¨å¼•å·æ‹¬èµ·æ¥
(integer) 1
&gt; hset books golang &quot;concurrency in go&quot;
(integer) 1
&gt; hset books python &quot;python cookbook&quot;
(integer) 1
&gt; hgetall books  # entries()ï¼Œkey å’Œ value é—´éš”å‡ºç°
1) &quot;java&quot;
2) &quot;think in java&quot;
3) &quot;golang&quot;
4) &quot;concurrency in go&quot;
5) &quot;python&quot;
6) &quot;python cookbook&quot;
&gt; hlen books
(integer) 3
&gt; hget books java
&quot;think in java&quot;
&gt; hset books golang &quot;learning go programming&quot;  # å› ä¸ºæ˜¯æ›´æ–°æ“ä½œï¼Œæ‰€ä»¥è¿”å› 0
(integer) 0
&gt; hget books golang
&quot;learning go programming&quot;
&gt; hmset books java &quot;effective java&quot; python &quot;learning python&quot; golang &quot;modern golang programming&quot;  # æ‰¹é‡ set
OK
# æ•´å½¢å˜é‡çš„è‡ªå¢æ“ä½œ
&gt; hincrby user-laoqian age 1
(integer) 30
</code></pre>
<h2 id="setç±»å‹">setç±»å‹</h2>
<p>åŒæ ·çš„setç±»å‹å¯ä»¥ç±»æ¯”ä¸ºjavaä¸­çš„HashSetï¼Œæ˜¯ä¸€ç§é”®å€¼å¯¹å”¯ä¸€çš„æ•°æ®ç»“æ„ï¼Œå¤§å®¶éƒ½çŸ¥é“javaä¸­çš„HashSetæ˜¯ç”±HashMapâ€œå˜å¼‚â€çš„ï¼Œç›¸å¯¹äºHashMapï¼ŒHashSetçš„æ‰€æœ‰valueéƒ½æ˜¯Nullã€‚setå…·æœ‰è‡ªåŠ¨å»é‡çš„åŠŸèƒ½ï¼Œå¯ä»¥ä¿è¯setä¸­çš„å¯ä»¥æ˜¯å”¯ä¸€çš„ã€‚<br>
<img src="https://hsxyhao.github.io//post-images/1573804430835.gif" alt="" loading="lazy"><br>
å‘½ä»¤ï¼š</p>
<pre><code class="language-java">&gt; sadd books python
(integer) 1
&gt; sadd books python  #  é‡å¤
(integer) 0
&gt; sadd books java golang
(integer) 2
&gt; smembers books  # æ³¨æ„é¡ºåºï¼Œå’Œæ’å…¥çš„å¹¶ä¸ä¸€è‡´ï¼Œå› ä¸º set æ˜¯æ— åºçš„
1) &quot;java&quot;
2) &quot;python&quot;
3) &quot;golang&quot;
&gt; sismember books java  # æŸ¥è¯¢æŸä¸ª value æ˜¯å¦å­˜åœ¨ï¼Œç›¸å½“äº contains(o)
(integer) 1
&gt; sismember books rust
(integer) 0
&gt; scard books  # è·å–é•¿åº¦ç›¸å½“äº count()
(integer) 3
&gt; spop books  # å¼¹å‡ºä¸€ä¸ª
&quot;java&quot;
</code></pre>
<h2 id="zsetæœ‰åºé›†åˆ">zset(æœ‰åºé›†åˆ)</h2>
<p>setæ˜¯ä¸€ä¸ªæ— åºä¸é‡å¤é›†åˆï¼Œzsetæ˜¯ä¸€ä¸ªæœ‰åºçš„ä¸é‡å¤é›†åˆï¼Œrediså†…éƒ¨æ˜¯é€šè¿‡è·³è·ƒé“¾è¡¨æ¥å®ç°çš„ã€‚è¦æƒ³å¯¹ä¸€ä¸ªé“¾è¡¨æ’åºï¼Œæ™®é€šçš„é“¾è¡¨è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚éœ€è¦å¯¹æ™®é€šé“¾è¡¨è¿›è¡Œæ”¹è¿›ï¼Œæ”¹é€ åå°±æ˜¯è·³è·ƒé“¾è¡¨äº†ã€‚<br>
<img src="https://hsxyhao.github.io//post-images/1573807555093.png" alt="" loading="lazy"><br>
ä¸Šå›¾å°±æ˜¯è·³è·ƒé“¾è¡¨çš„ä¸€ä¸ªç®€åŒ–ç¤ºæ„å›¾ï¼Œç›¸ä¿¡ä¸ç†Ÿæ‚‰çš„äººçœ‹åˆ°è¿™é‡Œè‚¯å®šä¼šæ‡µï¼Œè¿™ä¸ªâ€œè·³è·ƒâ€äºŒå­—å¦‚ä½•è§£é‡Šï¼Œåœ¨è¿™é‡Œè·³è·ƒæ˜¯æŒ‡å±‚ä¸å±‚ä¹‹é—´çš„ä¸€ä¸ªåˆ‡æ¢ï¼Œä¸æ˜¯å…ƒç´ å’Œå…ƒç´ ä¹‹é—´ã€‚å±‚æ˜¯ä»£è¡¨é«˜åº¦è¯ï¼Œæ‰€ä»¥ç”¨è·³è·ƒæ¥å½¢å®¹ä¹Ÿæ¯”è¾ƒåˆé€‚ã€‚</p>
<h1 id="æœ€å">æœ€å</h1>
<p>è¿™é‡Œåªæ˜¯å¯¹Redisçš„åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œä¸€ä¸ªç®€å•è®°å½•ï¼Œå°†æ‰€æœ‰é‡è¦çš„åœ°æ–¹éƒ½è®°å½•ä¸‹æ¥ï¼Œä½†æ˜¯æ²¡æœ‰è¯¦ç»†è®°å½•ï¼Œåœ¨é¢è¯•çš„æ—¶å€™å¦‚æœèŠåˆ°Redisï¼Œå¯ä»¥ç®€å•çš„åšä¸ªå¤§æ¦‚ä»‹ç»ï¼Œåé¢å†æ…¢æ…¢æ·±å…¥ï¼Œåç»­çš„æ–‡ç« ä¸­ä¼šå¯¹æ–‡ä¸­çš„ä¸€äº›ç‚¹è¿›è¡Œè¯¦ç»†çš„å­¦ä¹ è®°å½•ã€‚æœ¬ç¯‡æ–‡ç« ä¸»è¦æ ¹æ®ç½‘ä¸Šçš„èµ„æ–™è¿›è¡Œæ€»ç»“ï¼Œè¯´ä¸ä¸Šå¤åˆ¶ï¼Œå¦‚æœå•çº¯çš„æŠŠåˆ«äººçš„ä¸œè¥¿å¤åˆ¶è¿‡æ¥æ”¾åœ¨è‡ªå·±çš„åšå®¢ä¸Šï¼Œè¡Œä¸ºä¸Šæœ¬èº«å°±æ˜¯å¯è€»çš„ï¼ˆæœªæ ‡æ˜åŸè‘—ï¼‰ï¼Œå…¶æ¬¡åœ¨æ•ˆæœä¸Šä¹Ÿæ˜¯å¾®ä¹å…¶å¾® ã€‚å»ºè®®å¤§å®¶å¹³æ—¶çœ‹è¿‡ä¸€äº›ä¸œè¥¿ä¹‹åè½¬æ¢æˆè‡ªå·±çš„ç†è§£åè®°å½•ä¸‹æ¥ï¼Œè¿™æ ·çš„è¯æ•ˆæœä¹Ÿä¼šå¥½å¾ˆå¤šğŸ¤“ã€‚</p>
<h1 id="ç›¸å…³æ–‡æ¡£">ç›¸å…³æ–‡æ¡£</h1>
<p><a href="https://redis.io/topics/data-types-intro">Rediså®˜æ–¹æ–‡æ¡£</a><br>
<a href="https://juejin.im/book/5afc2e5f6fb9a07a9b362527">Redis æ·±åº¦å†é™©ï¼šæ ¸å¿ƒåŸç†ä¸åº”ç”¨å®è·µ</a></p>

              </div>
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
      Madara
    </li>
    <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://hsxyhao.github.io/post/rui-shi-jun-dao-redis" title="Rediså…¥é—¨çŸ¥è¯†ç‚¹">Rediså…¥é—¨çŸ¥è¯†ç‚¹</a>
    </li>
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
      æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
  <div class="tags">
    
      <a href="https://hsxyhao.github.io/tag/redis"># Redis</a>
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="Redis æŒä¹…åŒ–" href="https://hsxyhao.github.io/post/redis-chi-jiu-hua">Redis æŒä¹…åŒ–</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="Redis æŒä¹…åŒ–" href="https://hsxyhao.github.io/post/redis-chi-jiu-hua">ä¸Šä¸€ç¯‡</a>
      
    </div>
    <div class="nav-next">
      
        <a class="nav-pc-next" title="Grideaæ­å»ºä¸ªäººåšå®¢" href="https://hsxyhao.github.io/post/gridea-setup">Grideaæ­å»ºä¸ªäººåšå®¢</a>
        <a class="nav-mobile-next" title="Grideaæ­å»ºä¸ªäººåšå®¢" href="https://hsxyhao.github.io/post/gridea-setup">ä¸‹ä¸€ç¯‡</a>
        <i class="fa fa-chevron-right"></i>
      
    </div>
  </div>
</div>
              
                
                  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>
  var gitalk = new Gitalk({
    clientID: 'a9af4a1e2614527e9783',
    clientSecret: 'fd14537b8379422f87a8182010e408cf1627d678',
    repo: 'hsxyhao.github.io',
    owner: 'hsxyhao',
    admin: ['hsxyhao'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })
  gitalk.render('gitalk-container')
</script>
                
                
              
            </div>
          </div>
        </div>
      </div>
      <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Â© 2019-2020 <i class="fa fa-heart"></i> HsxyHao
    </div>
    <div class="poweredby">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
  <div class="gemini back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // åŠ¨æ€è°ƒæ•´ç«™ç‚¹æ¦‚è§ˆé«˜åº¦
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // ä»£ç é«˜äº®
  hljs.initHighlightingOnLoad();
</script>
    </div>
  </body>
  <script src="/media/js/motion.js"></script>
</html>