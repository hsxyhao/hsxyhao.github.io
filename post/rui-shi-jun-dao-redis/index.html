<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ç‘å£«å†›åˆ€-Redis | madara</title>
<meta name="description" content="è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½ä¸æƒ³å†™..." />
<link rel="shortcut icon" href="https://hsxyhao.github.io/favicon.ico?v=1573721547773">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://hsxyhao.github.io/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://hsxyhao.github.io">
  <img class="avatar" src="https://hsxyhao.github.io/images/avatar.png?v=1573721547773" alt="">
  </a>
  <h1 class="site-title">
    madara
  </h1>
  <p class="site-description">
    è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½ä¸æƒ³å†™...
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/post/about" class="menu">
          å…³äº
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              ç‘å£«å†›åˆ€-Redis
            </h2>
            <div class="post-info">
              <span>
                2019-11-14
              </span>
              <span>
                3 min read
              </span>
              
            </div>
            
              <img class="post-feature-image" src="https://hsxyhao.github.io/post-images/rui-shi-jun-dao-redis.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p>Redis is an open source (BSD licensed), in-memory data structure store, used as a database, cache and message broker. It supports data structures such as strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglogs, geospatial indexes with radius queries and streams. Redis has built-in replication, Lua scripting, LRU eviction, transactions and different levels of on-disk persistence, and provides high availability via Redis Sentinel and automatic partitioning with Redis Cluster.</p>
<!-- more -->
<p>æ‘˜è¦å–è‡ªRediså®˜æ–¹çš„ä»‹ç»ï¼Œä¸ºä»€ä¹ˆè¦æŠŠå®ƒæ”¾åœ¨è¿™é‡Œï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä»‹ç»Redisæœ€ä¸ºæ ‡å‡†çš„ä¸€æ®µè¯ï¼Œä»ç”¨é€”ã€æ•°æ®ç»“æ„å·²ç»åŠŸèƒ½ç­‰å¤šæ–¹é¢ä»‹ç»ï¼Œå¦‚æœä»¥åé¢è¯•å®˜å«ä½ ä»‹ç»ä¸‹redisçš„è¯ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç›´æ¥æŠŠè¿™æ®µè¯èƒŒä¸‹æ¥ğŸ˜Œã€‚è‡³äºä¸ºä»€ä¹ˆæŠŠRedisç§°ä¸ºç‘å£«å†›åˆ€ï¼Œç›¸ä¿¡ç”¨è¿‡redisçš„äººéƒ½ä¼šè¿™ä¹ˆè®¤ä¸ºã€‚</p>
<h1 id="åŸºç¡€">åŸºç¡€</h1>
<h2 id="redis-key">redis key</h2>
<p>Rediså¯†é’¥æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ï¼Œä»»ä½•äºŒè¿›åˆ¶åºåˆ—çš„å­—ç¬¦ä¸²éƒ½å¯ä»¥ä½œä¸ºå¯†é’¥ï¼Œç©ºå­—ç¬¦ä¸²ä¹Ÿæ˜¯æœ‰æ•ˆçš„é”®ã€‚è™½ç„¶keyçš„æœ‰æ•ˆé•¿åº¦ä¸º512Mï¼Œä½†æ˜¯åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¸å»ºè®®æŠŠkeyçš„é•¿åº¦è®¾ç½®å¤ªé•¿ï¼Œæˆ–è€…è¿‡çŸ­ï¼Œæœ€å‹å¥½çš„ä¸€ç§åšæ³•æ˜¯å°†keyå’Œä¸šåŠ¡ç»“åˆèµ·æ¥å‘½åï¼Œä¸€èˆ¬æ¨èä½¿ç”¨user:{id}è¿™æ ·çš„æ–¹å¼ã€‚</p>
<h2 id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</h2>
<p>ä»redisçš„å®˜æ–¹ä»‹ç»ä¸­å°±å¯ä»¥å¾—å‡ºï¼Œredisçš„åŸºç¡€æ•°æ®ç±»å‹æœ‰äº”ç§ï¼Œåˆ†åˆ«ä¸ºï¼šstringï¼Œhashï¼Œlistï¼Œsetï¼Œä»¥åŠzsetã€‚è‡³äºåé¢æåˆ°çš„hyperloglogsã€geospatialã€bitmapsçš„ç±»å‹ï¼Œæœ‰çš„æ˜¯åé¢çš„ç‰ˆæœ¬å¢åŠ çš„ï¼Œæœ‰çš„æ˜¯åŸºç¡€æ•°æ®ç±»å‹æ‰©å±•æ¥çš„ã€‚ç›¸å¯¹äºå…¶ä»–çš„nosqlæ•°æ®åº“æ¥è¯´ï¼Œredisçš„æ•°æ®ç±»å‹å·²ç»å¾ˆå……åˆ†äº†ã€‚rediså†…ç½®çš„è¿™äº›ç±»å‹ï¼Œå¯¹äºå­¦è¿‡javaçš„åŒå­¦å¯ä»¥ä½¿ç”¨javaä¸­çš„HashMapæ¥è¾…åŠ©è®°å¿†ï¼Œæ¯”å¦‚è¯´stringç±»å‹å°±æ˜¯Map&lt;String,String&gt;,listç±»å‹å°±ç±»æ¯”ä¸ºMap&lt;String,List<String>&gt;ï¼Œhashåˆ™ä¸ºMap&lt;String,Map&lt;String,String&gt;&gt;ã€‚é€šè¿‡è¿™æ ·çš„è¾…åŠ©è®°å¿†ï¼Œå°±å¯ä»¥å¾ˆå¿«çš„è®°ä½redisçš„æ•°æ®ç±»å‹ï¼Œå¯¹äºåæœŸå„ç§ç±»å‹çš„å‘½ä»¤ä½¿ç”¨ä¹Ÿèµ·åˆ°ä¸€å®šçš„å¸®åŠ©ã€‚ä»ä¸Šé¢çš„ç±»æ¯”ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°redisæ˜¯ä¸€ä¸ªkeyï¼Œvalueçš„æ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œkeyéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œvalueåˆ™å¯¹åº”redisç€ä»¥ä¸Šå‡ ç§æ•°æ®ç±»å‹ã€‚</p>
<h3 id="stringç±»å‹">stringç±»å‹</h3>
<p>stringç±»å‹ï¼Œå¯ä»¥è¯´æ˜¯redisä¸­ä½¿ç”¨åˆ°æœ€å¤šçš„ä¸€ç§ç±»å‹äº†ï¼Œå¼€å‘ä¸­æœ‰å¾ˆå¤šå¼€å‘äººå‘˜æŠŠä¸€äº›çƒ­ç‚¹æ•°æ®çš„åºåˆ—åŒ–æˆjsonï¼Œå­˜å‚¨åˆ°redisä¸­ï¼Œæœ€åè®¿é—®çš„æ—¶å€™åå†å–å‡ºæ¥ååºåˆ—åŒ–è¿”å›åˆ°å®¢æˆ·ç«¯ã€‚<br>
<img src="https://hsxyhao.github.io/post-images/1573721308127.png" alt=""><br>
é‡ç‚¹è®°å¿†ï¼š</p>
<ul>
<li>æœ€å¤§èƒ½å­˜å‚¨512Mçš„å†…å®¹</li>
<li>valueçš„å€¼æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œå†…éƒ¨é‡‡å–çš„æ˜¯ä¸€ç§é¢„æ‰©å®¹æœºåˆ¶æ¥å‡å°‘é¢‘ç¹çš„æ‰©å®¹ï¼Œå¦‚å›¾ä¸­æ‰€ç¤ºï¼Œå†…éƒ¨ä¸ºå½“å‰å­—ç¬¦ä¸²å®é™…åˆ†é…çš„ç©ºé—´ capacity ä¸€èˆ¬è¦é«˜äºå®é™…å­—ç¬¦ä¸²é•¿åº¦ lenã€‚å½“å­—ç¬¦ä¸²é•¿åº¦å°äº 1M æ—¶ï¼Œæ‰©å®¹éƒ½æ˜¯åŠ å€ç°æœ‰çš„ç©ºé—´ï¼Œå¦‚æœè¶…è¿‡ 1Mï¼Œæ‰©å®¹æ—¶ä¸€æ¬¡åªä¼šå¤šæ‰© 1M çš„ç©ºé—´ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦ä¸º 512Mã€‚</li>
</ul>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#%E5%9F%BA%E7%A1%80">åŸºç¡€</a>
<ul>
<li><a href="#redis-key">redis key</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">æ•°æ®ç±»å‹</a>
<ul>
<li><a href="#string%E7%B1%BB%E5%9E%8B">stringç±»å‹</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://hsxyhao.github.io/post/gridea-setup">
              <h3 class="post-title">
                Grideaæ­å»ºä¸ªäººåšå®¢
              </h3>
            </a>
          </div>
        

        
          

          
            <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>

var options = {
  shortname: 'hao',
  apikey: 'WqHbTiyi6m0RFvGraBrJ3IBi36D845fQ6ofCcSRdwkGzakLbXogCLzbQnNNuEyUH',
}
if ('') {
  options.api = ''
}
var dsqjs = new DisqusJS(options)

</script>

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://hsxyhao.github.io/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()

  let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

  // This should probably be throttled.
  // Especially because it triggers during smooth scrolling.
  // https://lodash.com/docs/4.17.10#throttle
  // You could do like...
  // window.addEventListener("scroll", () => {
  //    _.throttle(doThatStuff, 100);
  // });
  // Only not doing it here to keep this Pen dependency-free.

  window.addEventListener("scroll", event => {
    let fromTop = window.scrollY;

    mainNavLinks.forEach((link, index) => {
      let section = document.getElementById(decodeURI(link.hash).substring(1));
      let nextSection = null
      if (mainNavLinks[index + 1]) {
        nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
      }
      if (section.offsetTop <= fromTop) {
        if (nextSection) {
          if (nextSection.offsetTop > fromTop) {
            link.classList.add("current");
          } else {
            link.classList.remove("current");    
          }
        } else {
          link.classList.add("current");
        }
      } else {
        link.classList.remove("current");
      }
    });
  });

</script>

      </div>
    </div>
  </body>
</html>
