<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Rediså…¥é—¨çŸ¥è¯†ç‚¹ | Madara</title>
<meta name="description" content="è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½ä¸æƒ³å†™..." />
<link rel="shortcut icon" href="https://hsxyhao.github.io/favicon.ico?v=1574231377477">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://hsxyhao.github.io/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://hsxyhao.github.io">
  <img class="avatar" src="https://hsxyhao.github.io/images/avatar.png?v=1574231377477" alt="">
  </a>
  <h1 class="site-title">
    Madara
  </h1>
  <p class="site-description">
    è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½ä¸æƒ³å†™...
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/post/about" class="menu">
          å…³äº
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Rediså…¥é—¨çŸ¥è¯†ç‚¹
            </h2>
            <div class="post-info">
              <span>
                2019-11-14
              </span>
              <span>
                9 min read
              </span>
              
                <a href="https://hsxyhao.github.io/tag/redis" class="post-tag">
                  # redis
                </a>
              
            </div>
            
              <img class="post-feature-image" src="https://hsxyhao.github.io/post-images/rui-shi-jun-dao-redis.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p>Redis is an open source (BSD licensed), in-memory data structure store, used as a database, cache and message broker. It supports data structures such as strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglogs, geospatial indexes with radius queries and streams. Redis has built-in replication, Lua scripting, LRU eviction, transactions and different levels of on-disk persistence, and provides high availability via Redis Sentinel and automatic partitioning with Redis Cluster.</p>
<!-- more -->
<p>æ‘˜è¦å–è‡ªRediså®˜æ–¹çš„ä»‹ç»ï¼Œä¸ºä»€ä¹ˆè¦æŠŠå®ƒæ”¾åœ¨è¿™é‡Œï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä»‹ç»Redisæœ€ä¸ºæ ‡å‡†çš„ä¸€æ®µè¯ï¼Œä»ç”¨é€”ã€æ•°æ®ç»“æ„å·²ç»åŠŸèƒ½ç­‰å¤šæ–¹é¢ä»‹ç»ï¼Œå¦‚æœä»¥åé¢è¯•å®˜å«ä½ ä»‹ç»ä¸‹redisçš„è¯ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç›´æ¥æŠŠè¿™æ®µè¯èƒŒä¸‹æ¥ğŸ˜Œã€‚è‡³äºä¸ºä»€ä¹ˆæŠŠRedisç§°ä¸ºç‘å£«å†›åˆ€ï¼Œç›¸ä¿¡ç”¨è¿‡redisçš„äººéƒ½ä¼šè¿™ä¹ˆè®¤ä¸ºã€‚</p>
<h1 id="redis-key">Redis key</h1>
<p>Rediså¯†é’¥æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ï¼Œä»»ä½•äºŒè¿›åˆ¶åºåˆ—çš„å­—ç¬¦ä¸²éƒ½å¯ä»¥ä½œä¸ºå¯†é’¥ï¼Œç©ºå­—ç¬¦ä¸²ä¹Ÿæ˜¯æœ‰æ•ˆçš„é”®ã€‚è™½ç„¶keyçš„æœ‰æ•ˆé•¿åº¦ä¸º512Mï¼Œä½†æ˜¯åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¸å»ºè®®æŠŠkeyçš„é•¿åº¦è®¾ç½®å¤ªé•¿ï¼Œæˆ–è€…è¿‡çŸ­ï¼Œæœ€å‹å¥½çš„ä¸€ç§åšæ³•æ˜¯å°†keyå’Œä¸šåŠ¡ç»“åˆèµ·æ¥å‘½åï¼Œä¸€èˆ¬æ¨èä½¿ç”¨user:{id}è¿™æ ·çš„æ–¹å¼ã€‚</p>
<h1 id="æ•°æ®ç±»å‹"><a href="https://redis.io/topics/data-types-intro">æ•°æ®ç±»å‹</a></h1>
<p>ä»redisçš„å®˜æ–¹ä»‹ç»ä¸­å°±å¯ä»¥å¾—å‡ºï¼Œredisçš„åŸºç¡€æ•°æ®ç±»å‹æœ‰äº”ç§ï¼Œåˆ†åˆ«ä¸ºï¼šstringï¼Œhashï¼Œlistï¼Œsetï¼Œä»¥åŠzsetã€‚è‡³äºåé¢æåˆ°çš„hyperloglogsã€geospatialã€bitmapsçš„ç±»å‹ï¼Œæœ‰çš„æ˜¯åé¢çš„ç‰ˆæœ¬å¢åŠ çš„ï¼Œæœ‰çš„æ˜¯åŸºç¡€æ•°æ®ç±»å‹æ‰©å±•æ¥çš„ã€‚ç›¸å¯¹äºå…¶ä»–çš„nosqlæ•°æ®åº“æ¥è¯´ï¼Œredisçš„æ•°æ®ç±»å‹å·²ç»å¾ˆå……åˆ†äº†ã€‚rediså†…ç½®çš„è¿™äº›ç±»å‹ï¼Œå¯¹äºå­¦è¿‡javaçš„åŒå­¦å¯ä»¥ä½¿ç”¨javaä¸­çš„HashMapæ¥è¾…åŠ©è®°å¿†ï¼Œæ¯”å¦‚è¯´stringç±»å‹å°±æ˜¯Map&lt;String,String&gt;,listç±»å‹å°±ç±»æ¯”ä¸ºMap&lt;String,List<String>&gt;ï¼Œhashåˆ™ä¸ºMap&lt;String,Map&lt;String,String&gt;&gt;ã€‚é€šè¿‡è¿™æ ·çš„è¾…åŠ©è®°å¿†ï¼Œå°±å¯ä»¥å¾ˆå¿«çš„è®°ä½redisçš„æ•°æ®ç±»å‹ï¼Œå¯¹äºåæœŸå„ç§ç±»å‹çš„å‘½ä»¤ä½¿ç”¨ä¹Ÿèµ·åˆ°ä¸€å®šçš„å¸®åŠ©ã€‚ä»ä¸Šé¢çš„ç±»æ¯”ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°redisæ˜¯ä¸€ä¸ªkeyï¼Œvalueçš„æ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œkeyéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œvalueåˆ™å¯¹åº”redisç€ä»¥ä¸Šå‡ ç§æ•°æ®ç±»å‹ã€‚</p>
<h2 id="1-stringç±»å‹">1. stringç±»å‹</h2>
<p>stringç±»å‹ï¼Œå¯ä»¥è¯´æ˜¯redisä¸­ä½¿ç”¨åˆ°æœ€å¤šçš„ä¸€ç§ç±»å‹äº†ï¼Œå¼€å‘ä¸­æœ‰å¾ˆå¤šå¼€å‘äººå‘˜æŠŠä¸€äº›çƒ­ç‚¹æ•°æ®çš„åºåˆ—åŒ–æˆjsonï¼Œå­˜å‚¨åˆ°redisä¸­ï¼Œæœ€åè®¿é—®çš„æ—¶å€™åå†å–å‡ºæ¥ååºåˆ—åŒ–è¿”å›åˆ°å®¢æˆ·ç«¯ã€‚<br>
<img src="https://hsxyhao.github.io/post-images/1573721308127.png" alt=""><br>
é‡ç‚¹è®°å¿†ï¼š</p>
<ul>
<li>æœ€å¤§èƒ½å­˜å‚¨512Mçš„å†…å®¹</li>
<li>valueçš„å€¼æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œå†…éƒ¨é‡‡å–çš„æ˜¯ä¸€ç§é¢„æ‰©å®¹æœºåˆ¶æ¥å‡å°‘é¢‘ç¹çš„æ‰©å®¹ï¼Œå¦‚å›¾ä¸­æ‰€ç¤ºï¼Œå†…éƒ¨ä¸ºå½“å‰å­—ç¬¦ä¸²å®é™…åˆ†é…çš„ç©ºé—´ capacity ä¸€èˆ¬è¦é«˜äºå®é™…å­—ç¬¦ä¸²é•¿åº¦ lenã€‚å½“å­—ç¬¦ä¸²é•¿åº¦å°äº 1M æ—¶ï¼Œæ‰©å®¹éƒ½æ˜¯åŠ å€ç°æœ‰çš„ç©ºé—´ï¼Œå¦‚æœè¶…è¿‡ 1Mï¼Œæ‰©å®¹æ—¶ä¸€æ¬¡åªä¼šå¤šæ‰© 1M çš„ç©ºé—´ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦ä¸º 512Mã€‚</li>
</ul>
<p>å‘½ä»¤ï¼š</p>
<pre><code class="language-java">// æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹
&gt; set key1 value1
OK
// æ·»åŠ å¤šä¸ªé”®å€¼å¯¹ï¼Œæ”¹åç›¸å½“äºå¤šæ¬¡ä½¿ç”¨setåï¼Œmsetå¯ä»¥å‡å°‘ç½‘ç»œè¯·æ±‚
&gt; mset key1 value1 key2 value2 
OK
// å½“valueæ˜¯intç±»å‹çš„æ—¶å€™å¯ä»¥è¿›è¡ŒåŠ å‡æ“ä½œï¼Œè¶…è¿‡signed longï¼ˆLong.Maxï¼‰åˆ™ä¼šæŠ¥é”™
&gt; set counter 100
OK
&gt; incr counter
(integer) 101
&gt; incr counter
(integer) 102
&gt; incrby counter 50
(integer) 152
</code></pre>
<h2 id="2-listç±»å‹">2. listç±»å‹</h2>
<p>Redisä¸­çš„listç›¸å½“äºjavaä¸­çš„LinkedListï¼Œä¸æ˜¯ArrayListï¼Œä¹Ÿå°±æ˜¯è¯´ä»–æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚ç»“åˆ*popå’Œ*pushå‘½ä»¤å¯ä»¥å®ç°é˜Ÿåˆ—æˆ–è€…æ ˆè¿™ç§æ•°æ®ç»“æ„ã€‚<br>
<img src="https://hsxyhao.github.io/post-images/1573722527155.gif" alt=""></p>
<h3 id="å¿«é€Ÿé“¾è¡¨">å¿«é€Ÿé“¾è¡¨</h3>
<p><img src="https://hsxyhao.github.io/post-images/1573801624670.png" alt=""><br>
å‡†ç¡®çš„è¯´listç±»å‹çš„åº•å±‚å®ç°æ˜¯å¿«é€Ÿé“¾è¡¨ï¼Œæ™®é€šé“¾è¡¨åœ¨æ•°æ®é‡é‡å¤§çš„æƒ…å†µä¸‹æ€§èƒ½æ˜¯éå¸¸ä½çš„ï¼Œæ‰€ä»¥éœ€è¦å¯¹listè¿›è¡Œä¼˜åŒ–ã€‚åœ¨åˆ—è¡¨å¼€å§‹æ•°æ®é‡å°‘çš„æƒ…å†µä¸‹ï¼Œä¼šç›´æ¥ç”³è¯·ä¸€å—<strong>è¿ç»­</strong>çš„å†…å­˜å­˜å‚¨ï¼Œè¿™å—å†…å­˜çš„ç»“æ„å°±æ˜¯ziplist(å‹ç¼©åˆ—è¡¨)ï¼Œå½“æ•°æ®é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ä¼šåˆ‡æ¢æˆquicklistï¼Œå°±æ˜¯å¤šä¸ªziplistç»“åˆæˆçš„é“¾è¡¨ã€‚</p>
<h3 id="listæ‰©å±•åº”ç”¨">listæ‰©å±•åº”ç”¨</h3>
<ol>
<li>ç»“åˆrpushä»¥åŠlpopï¼ˆæˆ–è€…lpushå’Œrpopï¼‰å¯ä»¥å®ç°redisç‰ˆçš„é˜Ÿåˆ—ï¼Œå³è¿›å·¦å‡ºï¼ˆæˆ–å·¦è¿›å³å‡ºï¼‰ã€‚</li>
<li>ä½¿ç”¨rpushä»¥åŠrpopï¼ˆæˆ–è€…lpushå’Œlpopï¼‰å¯ä»¥å®ç°redisç‰ˆçš„æ ˆï¼Œå³è¿›å³å‡ºï¼ˆå·¦è¿›å·¦å‡ºï¼‰ã€‚</li>
</ol>
<p>å‘½ä»¤:</p>
<ul>
<li>ltrim [start_index, end_index]å‘½ä»¤ï¼Œä¼šä¿ç•™start_indexå’Œend_indexä¹‹é—´çš„éƒ¨åˆ†</li>
<li>lindexç›¸å½“äºé“¾è¡¨çš„getæ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n),indexè¶Šå¤§æ€§èƒ½è¶Šä½ã€‚</li>
</ul>
<pre><code class="language-java">&gt; rpush books python java golang
(integer) 3
&gt; lindex books 1  # O(n) æ…ç”¨
&quot;java&quot;
&gt; lrange books 0 -1  # è·å–æ‰€æœ‰å…ƒç´ ï¼ŒO(n) æ…ç”¨
1) &quot;python&quot;
2) &quot;java&quot;
3) &quot;golang&quot;
&gt; ltrim books 1 -1 # O(n) æ…ç”¨
OK
&gt; lrange books 0 -1
1) &quot;java&quot;
2) &quot;golang&quot;
&gt; ltrim books 1 0 # è¿™å…¶å®æ˜¯æ¸…ç©ºäº†æ•´ä¸ªåˆ—è¡¨ï¼Œå› ä¸ºåŒºé—´èŒƒå›´é•¿åº¦ä¸ºè´Ÿ
OK
&gt; llen books
(integer) 0
</code></pre>
<h2 id="3-hashç±»å‹">3. hashç±»å‹</h2>
<p>hashç±»å‹å¯ä»¥ç±»æ¯”æˆjavaä¸­HashMapï¼Œä¸€ç§é”®å€¼å¯¹ç±»å‹ï¼Œåªä¸è¿‡è¿™é‡Œçš„keyåªèƒ½æ˜¯stringç±»å‹ã€‚</p>
<h3 id="rehash">rehash</h3>
<p>ç›¸ä¿¡å¤§å¤šæ•°javaå¼€å‘äººå‘˜åœ¨é¢è¯•çš„æ—¶å€™éƒ½ä¼šè¢«é—®åˆ°rehashï¼Œè¿™ä¸ªè¿‡ç¨‹åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™æ˜¯ä¸€ä¸ªæ€§èƒ½ç›¸å½“ä½çš„æ“ä½œï¼Œè€Œredisä¸ºäº†æé«˜æ€§èƒ½ï¼Œå°±é‡‡å–äº†å¦ä¸€ç§æ–¹å¼è¿›è¡Œrehashâ€”â€”æ¸è¿‘å¼ï¼Œå°±æ˜¯åœ¨rehashçš„æ—¶å€™ä¸ç«‹é©¬è¿›è¡Œrehashï¼Œä¿å­˜ä¸€ä¸ªæ–°çš„hashç»“æ„çš„åŒæ—¶ï¼Œæ—§çš„ä¹Ÿä¿å­˜ä¸‹æ¥ï¼Œåœ¨åç»­çš„å®šæ—¶ä»»åŠ¡ä¸­ï¼Œæˆ–è€…æœ‰hashæ“ä½œçš„æ—¶å€™è¿›è¡Œè¿ç§»ï¼Œå½“æ•°æ®è¿ç§»å®Œæˆä¹‹åï¼Œæ—§çš„hashå°±ä¼šè¢«æ–°çš„å–ä»£ã€‚</p>
<h3 id="ä¸stringåº”ç”¨æ¯”è¾ƒ">ä¸stringåº”ç”¨æ¯”è¾ƒ</h3>
<p>hashä¹Ÿå¯ä»¥ç”¨æ¥ä¿å­˜ç”¨æˆ·ä¿¡æ¯çš„ç±»ä¼¼æ“ä½œï¼Œä½†æ˜¯ç›¸å¯¹äºstringæ¥è¯´ï¼Œhashå¯ä»¥ä¿å­˜ä¸€ä¸ªç”¨æˆ·çš„å•ä¸ªå±æ€§ï¼Œåœ¨æ•°æ®é‡ä»¥åŠè¯·æ±‚éå¸¸å¤§çš„æƒ…å†µä¸‹ï¼Œè·å–å•ä¸ªå±æ€§ç›¸æ¯”è¾ƒæˆ–è€…æ‰€æœ‰å±æ€§æ¥è¯´ï¼Œæ›´åŠ èŠ‚çº¦ç½‘ç»œæµé‡ï¼Œä½†æ˜¯hashçš„å­˜å‚¨ç»“æ„æ¶ˆè€—è¦é«˜äºstringã€‚</p>
<p>å‘½ä»¤</p>
<pre><code class="language-java">&gt; hset books java &quot;think in java&quot;  # å‘½ä»¤è¡Œçš„å­—ç¬¦ä¸²å¦‚æœåŒ…å«ç©ºæ ¼ï¼Œè¦ç”¨å¼•å·æ‹¬èµ·æ¥
(integer) 1
&gt; hset books golang &quot;concurrency in go&quot;
(integer) 1
&gt; hset books python &quot;python cookbook&quot;
(integer) 1
&gt; hgetall books  # entries()ï¼Œkey å’Œ value é—´éš”å‡ºç°
1) &quot;java&quot;
2) &quot;think in java&quot;
3) &quot;golang&quot;
4) &quot;concurrency in go&quot;
5) &quot;python&quot;
6) &quot;python cookbook&quot;
&gt; hlen books
(integer) 3
&gt; hget books java
&quot;think in java&quot;
&gt; hset books golang &quot;learning go programming&quot;  # å› ä¸ºæ˜¯æ›´æ–°æ“ä½œï¼Œæ‰€ä»¥è¿”å› 0
(integer) 0
&gt; hget books golang
&quot;learning go programming&quot;
&gt; hmset books java &quot;effective java&quot; python &quot;learning python&quot; golang &quot;modern golang programming&quot;  # æ‰¹é‡ set
OK
# æ•´å½¢å˜é‡çš„è‡ªå¢æ“ä½œ
&gt; hincrby user-laoqian age 1
(integer) 30
</code></pre>
<h2 id="4-setç±»å‹">4. setç±»å‹</h2>
<p>åŒæ ·çš„setç±»å‹å¯ä»¥ç±»æ¯”ä¸ºjavaä¸­çš„HashSetï¼Œæ˜¯ä¸€ç§é”®å€¼å¯¹å”¯ä¸€çš„æ•°æ®ç»“æ„ï¼Œå¤§å®¶éƒ½çŸ¥é“javaä¸­çš„HashSetæ˜¯ç”±HashMapâ€œå˜å¼‚â€çš„ï¼Œç›¸å¯¹äºHashMapï¼ŒHashSetçš„æ‰€æœ‰valueéƒ½æ˜¯Nullã€‚setå…·æœ‰è‡ªåŠ¨å»é‡çš„åŠŸèƒ½ï¼Œå¯ä»¥ä¿è¯setä¸­çš„å¯ä»¥æ˜¯å”¯ä¸€çš„ã€‚<br>
<img src="https://hsxyhao.github.io/post-images/1573804430835.gif" alt=""><br>
å‘½ä»¤ï¼š</p>
<pre><code class="language-java">&gt; sadd books python
(integer) 1
&gt; sadd books python  #  é‡å¤
(integer) 0
&gt; sadd books java golang
(integer) 2
&gt; smembers books  # æ³¨æ„é¡ºåºï¼Œå’Œæ’å…¥çš„å¹¶ä¸ä¸€è‡´ï¼Œå› ä¸º set æ˜¯æ— åºçš„
1) &quot;java&quot;
2) &quot;python&quot;
3) &quot;golang&quot;
&gt; sismember books java  # æŸ¥è¯¢æŸä¸ª value æ˜¯å¦å­˜åœ¨ï¼Œç›¸å½“äº contains(o)
(integer) 1
&gt; sismember books rust
(integer) 0
&gt; scard books  # è·å–é•¿åº¦ç›¸å½“äº count()
(integer) 3
&gt; spop books  # å¼¹å‡ºä¸€ä¸ª
&quot;java&quot;
</code></pre>
<h2 id="5-zsetæœ‰åºé›†åˆ">5. zset(æœ‰åºé›†åˆ)</h2>
<p>setæ˜¯ä¸€ä¸ªæ— åºä¸é‡å¤é›†åˆï¼Œzsetæ˜¯ä¸€ä¸ªæœ‰åºçš„ä¸é‡å¤é›†åˆï¼Œrediså†…éƒ¨æ˜¯é€šè¿‡è·³è·ƒé“¾è¡¨æ¥å®ç°çš„ã€‚è¦æƒ³å¯¹ä¸€ä¸ªé“¾è¡¨æ’åºï¼Œæ™®é€šçš„é“¾è¡¨è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚éœ€è¦å¯¹æ™®é€šé“¾è¡¨è¿›è¡Œæ”¹è¿›ï¼Œæ”¹é€ åå°±æ˜¯è·³è·ƒé“¾è¡¨äº†ã€‚<br>
<img src="https://hsxyhao.github.io/post-images/1573807555093.png" alt=""><br>
ä¸Šå›¾å°±æ˜¯è·³è·ƒé“¾è¡¨çš„ä¸€ä¸ªç®€åŒ–ç¤ºæ„å›¾ï¼Œç›¸ä¿¡ä¸ç†Ÿæ‚‰çš„äººçœ‹åˆ°è¿™é‡Œè‚¯å®šä¼šæ‡µï¼Œè¿™ä¸ªâ€œè·³è·ƒâ€äºŒå­—å¦‚ä½•è§£é‡Šï¼Œåœ¨è¿™é‡Œè·³è·ƒæ˜¯æŒ‡å±‚ä¸å±‚ä¹‹é—´çš„ä¸€ä¸ªåˆ‡æ¢ï¼Œä¸æ˜¯å…ƒç´ å’Œå…ƒç´ ä¹‹é—´ã€‚å±‚æ˜¯ä»£è¡¨é«˜åº¦è¯ï¼Œæ‰€ä»¥ç”¨è·³è·ƒæ¥å½¢å®¹ä¹Ÿæ¯”è¾ƒåˆé€‚ã€‚</p>
<h1 id="æœ€å">æœ€å</h1>
<p>è¿™é‡Œåªæ˜¯å¯¹Redisçš„åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œä¸€ä¸ªç®€å•è®°å½•ï¼Œå°†æ‰€æœ‰é‡è¦çš„åœ°æ–¹éƒ½è®°å½•ä¸‹æ¥ï¼Œä½†æ˜¯æ²¡æœ‰è¯¦ç»†è®°å½•ï¼Œåœ¨é¢è¯•çš„æ—¶å€™å¦‚æœèŠåˆ°Redisï¼Œå¯ä»¥ç®€å•çš„åšä¸ªå¤§æ¦‚ä»‹ç»ï¼Œåé¢å†æ…¢æ…¢æ·±å…¥ï¼Œåç»­çš„æ–‡ç« ä¸­ä¼šå¯¹æ–‡ä¸­çš„ä¸€äº›ç‚¹è¿›è¡Œè¯¦ç»†çš„å­¦ä¹ è®°å½•ã€‚æœ¬ç¯‡æ–‡ç« ä¸»è¦æ ¹æ®ç½‘ä¸Šçš„èµ„æ–™è¿›è¡Œæ€»ç»“ï¼Œè¯´ä¸ä¸Šå¤åˆ¶ï¼Œå¦‚æœå•çº¯çš„æŠŠåˆ«äººçš„ä¸œè¥¿å¤åˆ¶è¿‡æ¥æ”¾åœ¨è‡ªå·±çš„åšå®¢ä¸Šï¼Œè¡Œä¸ºä¸Šæœ¬èº«å°±æ˜¯å¯è€»çš„ï¼ˆæœªæ ‡æ˜åŸè‘—ï¼‰ï¼Œå…¶æ¬¡åœ¨æ•ˆæœä¸Šä¹Ÿæ˜¯å¾®ä¹å…¶å¾® ã€‚å»ºè®®å¤§å®¶å¹³æ—¶çœ‹è¿‡ä¸€äº›ä¸œè¥¿ä¹‹åè½¬æ¢æˆè‡ªå·±çš„ç†è§£åè®°å½•ä¸‹æ¥ï¼Œè¿™æ ·çš„è¯æ•ˆæœä¹Ÿä¼šå¥½å¾ˆå¤šğŸ¤“ã€‚</p>
<h1 id="ç›¸å…³æ–‡æ¡£">ç›¸å…³æ–‡æ¡£</h1>
<p><a href="https://redis.io/topics/data-types-intro">Rediså®˜æ–¹æ–‡æ¡£</a><br>
<a href="https://juejin.im/book/5afc2e5f6fb9a07a9b362527">Redis æ·±åº¦å†é™©ï¼šæ ¸å¿ƒåŸç†ä¸åº”ç”¨å®è·µ</a></p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#redis-key">Redis key</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">æ•°æ®ç±»å‹</a>
<ul>
<li><a href="#1-string%E7%B1%BB%E5%9E%8B">1. stringç±»å‹</a></li>
<li><a href="#2-list%E7%B1%BB%E5%9E%8B">2. listç±»å‹</a>
<ul>
<li><a href="#%E5%BF%AB%E9%80%9F%E9%93%BE%E8%A1%A8">å¿«é€Ÿé“¾è¡¨</a></li>
<li><a href="#list%E6%89%A9%E5%B1%95%E5%BA%94%E7%94%A8">listæ‰©å±•åº”ç”¨</a></li>
</ul>
</li>
<li><a href="#3-hash%E7%B1%BB%E5%9E%8B">3. hashç±»å‹</a>
<ul>
<li><a href="#rehash">rehash</a></li>
<li><a href="#%E4%B8%8Estring%E5%BA%94%E7%94%A8%E6%AF%94%E8%BE%83">ä¸stringåº”ç”¨æ¯”è¾ƒ</a></li>
</ul>
</li>
<li><a href="#4-set%E7%B1%BB%E5%9E%8B">4. setç±»å‹</a></li>
<li><a href="#5-zset%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88">5. zset(æœ‰åºé›†åˆ)</a></li>
</ul>
</li>
<li><a href="#%E6%9C%80%E5%90%8E">æœ€å</a></li>
<li><a href="#%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3">ç›¸å…³æ–‡æ¡£</a></li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://hsxyhao.github.io/post/gridea-setup">
              <h3 class="post-title">
                Grideaæ­å»ºä¸ªäººåšå®¢
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '7daf0c9da2ee9a72ecba',
    clientSecret: '39e3424bd496a5d8dcdbb618c370897256810975',
    repo: 'hsxyhao.github.io',
    owner: 'hsxyhao',
    admin: ['hsxyhao'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://hsxyhao.github.io/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()

  let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

  // This should probably be throttled.
  // Especially because it triggers during smooth scrolling.
  // https://lodash.com/docs/4.17.10#throttle
  // You could do like...
  // window.addEventListener("scroll", () => {
  //    _.throttle(doThatStuff, 100);
  // });
  // Only not doing it here to keep this Pen dependency-free.

  window.addEventListener("scroll", event => {
    let fromTop = window.scrollY;

    mainNavLinks.forEach((link, index) => {
      let section = document.getElementById(decodeURI(link.hash).substring(1));
      let nextSection = null
      if (mainNavLinks[index + 1]) {
        nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
      }
      if (section.offsetTop <= fromTop) {
        if (nextSection) {
          if (nextSection.offsetTop > fromTop) {
            link.classList.add("current");
          } else {
            link.classList.remove("current");    
          }
        } else {
          link.classList.add("current");
        }
      } else {
        link.classList.remove("current");
      }
    });
  });

</script>

      </div>
    </div>
  </body>
</html>
